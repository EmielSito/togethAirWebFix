<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"

>

<ui:composition template="/template.xhtml">
    <ui:define name="content">
        <!-- banner-bottom -->
        <div class="banner-bottom">
            <!-- container -->
            <div class="container">
                <div class="faqs-top-grids">
                    <!--single-page-->
                    <div class="single-page">
                        <div class="col-md-8 single-gd-lt">
                            <div class="single-pg-hdr">
                                <h2>#{msgs['products.results.title1']}#{bookingController.selectedPlane.flight.departure.airportName}#{msgs['products.results.title2']}#{detailsPageController.selectedPlane.flight.destination.airportName}</h2>
                                <p>#{bookingController.selectedPlane.flight.airline.airlineName}</p>
                                <p>#{msgs['products.results.departure']}#{bookingController.selectedPlane.departureDate}</p>
                                <p>#{msgs['products.results.arrival']}#{bookingController.selectedPlane.arrivalDate}</p>
                            </div>
                            <!--<div class="flexslider">
                                <ul class="slides">
                                    <li data-thumb="images/p1.jpg">
                                        <img src="../../images/p1.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p2.jpg">
                                        <img src="../../images/p2.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p3.jpg">
                                        <img src="../../images/p3.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p4.jpg">
                                        <img src="../../images/p4.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p1.jpg">
                                        <img src="../../images/p1.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p2.jpg">
                                        <img src="../../images/p2.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p3.jpg">
                                        <img src="../../images/p3.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p4.jpg">
                                        <img src="../../images/p4.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p1.jpg">
                                        <img src="../../images/p1.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p2.jpg">
                                        <img src="../../images/p2.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p3.jpg">
                                        <img src="../../images/p3.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p4.jpg">
                                        <img src="../../images/p4.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p1.jpg">
                                        <img src="../../images/p1.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p2.jpg">
                                        <img src="../../images/p2.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p3.jpg">
                                        <img src="../../images/p3.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p4.jpg">
                                        <img src="../../images/p4.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p1.jpg">
                                        <img src="../../images/p1.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p2.jpg">
                                        <img src="../../images/p2.jpg" alt=""/>
                                    </li>
                                    <li data-thumb="images/p3.jpg">
                                        <img src="../../images/p3.jpg" alt=""/>
                                    </li>
                                </ul>
                            </div>
                            <script src="../../js/jquery.flexslider.js"></script>
                            <script>
                                // Can also be used with $(document).ready()
                                $(window).load(function() {
                                    $('.flexslider').flexslider({
                                        animation: "slide",
                                        controlNav: "thumbnails"
                                    });
                                });
                            </script>-->
                            <ui:repeat value="#{bookingController.tickets}" var="ticket">
                            <h:form>
                                <div class="p-table">
                                    <div class="p-table-grids">
                                        <div class="col-md-3 p-table-grid">
                                            <div class="p-table-grad-heading">
                                                <h6>Person</h6>
                                            </div>
                                            <div class="p-table-grid-info">
                                                <div class="room-basic-info">

                                                        <h:outputLabel value="First Name:" for="firstname"/>
                                                        <h:inputText a:placeholder="First Name" id="firstname"
                                                                     name="firstname" value="#{bookingController.firstName}"/>
                                                        <h:inputHidden value="#{bookingController.initTicket(ticket)}"/>
                                                        <h:outputLabel value="Last Name:" for="lastname"/>
                                                        <h:inputText a:placeholder="Last Name" id="lastname"
                                                                     name="lastname" value="#{bookingController.lastName}"/>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3 p-table-grid">
                                            <div class="p-table-grad-heading">
                                                <h6>Seat info</h6>
                                            </div>
                                            <div class="rate-features">
                                                <p>Current seat: <br/><h:outputLabel id="currentSeat"
                                                                                     value="#{ticket.seat.seatNumber} - #{ticket.seat.classType}"/></p>
                                            </div>
                                        </div>
                                        <div class="col-md-3 p-table-grid">
                                            <div class="p-table-grad-heading">
                                                <h6>Rate per person</h6>
                                            </div>
                                            <div class="avg-rate">
                                                <p>Price is now:</p>
                                                <span class="p-offer">&#8364;<h:outputText value="#{ticket.seat.basePrice}"/></span>
                                            </div>
                                        </div>
                                        <div class="col-md-3 p-table-grid">
                                            <div class="p-table-grad-heading">
                                                <h6>Confirmation</h6>
                                            </div>
                                            <div class="book-button-column">
                                                <h:link outcome="p-single" value="Remove"/>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                            </h:form>
                            </ui:repeat>
                        </div>
                        <div class="col-md-4 single-gd-rt">
                            <div class="spl-btn">
                                <div class="spl-btn-bor">
                                    <a href="#">
                                        <span class="glyphicon glyphicon-tag" aria-hidden="true"></span>
                                    </a>
                                    <p>ToGethAir Offer</p>
                                    <h:outputScript>
                                        $(document).ready(function () {
                                            $('[data-toggle="tooltip"]').tooltip();
                                        });
                                    </h:outputScript>
                                </div>
                                <div class="sp-bor-btn text-right">
                                    <h4>&#8364;<h:outputText value="#{bookingController.getTotalPrice()}"/></h4>
                                    <p class="best-pri">Total price</p>
                                </div>
                                <div class="sp-bor-btn">
                                    <h3>Payment information</h3>
                                    <br/>
                                    <h:form>
                                        <p>

                                            <h:selectOneRadio value="#{bookingController.paymentMethod}">
                                                <f:selectItems value="#{bookingController.getPaymentMethods()}"/>
                                                <f:ajax event="valueChange" listener="#{bookingController.show}"
                                                        render="@form" execute="@this"/>
                                            </h:selectOneRadio>

                                        </p>
                                        <br/>
                                        <p><h:outputLabel rendered="#{bookingController.showable}" id="accountnumberlabel"
                                                          value="Account Number" for="accountnumber"/></p>
                                        <p><h:inputText rendered="#{bookingController.showable}"
                                                        a:placeholder="Account Number" id="accountnumber"
                                                        name="accountnumber"/></p>
                                        <p><h:outputLabel rendered="#{bookingController.showable}" id="expirydatelabel"
                                                          value="Expiry Date" for="expirydate"/></p>
                                        <p><h:inputText rendered="#{bookingController.showable}"
                                                        a:placeholder="Account Number" id="expirydate"
                                                        name="expirydate"/>
                                        </p>
                                    </h:form>
                                </div>
                                <div class="sp-bor-btn text-right"> <h:form><h:commandLink styleClass="best-btn" action="#{bookingController.confirmBooking()}" value="#{msgs['details.price.pay']}"/></h:form></div>
                            </div>

                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <!--//single-page-->
                </div>

            </div>
            <!-- //container -->
        </div>
        <!-- //banner-bottom -->
    </ui:define>
</ui:composition>
</html>